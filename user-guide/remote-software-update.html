<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Remote Software Update &#8212; thingsboard-edge-gateway 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=f6a572b4" />
    <script src="../_static/documentation_options.js?v=2709fde1"></script>
    <script src="../_static/doctools.js?v=fd6eb6e6"></script>
    <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Remote Procedure Calls" href="remote-procedure-calls.html" />
    <link rel="prev" title="Remote File Management" href="remote-file-management.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">thingsboard-edge-gateway</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="main-loop.html">Main Loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="remote-file-management.html">Remote File Management</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Remote Software Update</a></li>
<li class="toctree-l2"><a class="reference internal" href="remote-procedure-calls.html">Remote Procedure Calls</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developer-guide/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">User Guide</a><ul>
      <li>Previous: <a href="remote-file-management.html" title="previous chapter">Remote File Management</a></li>
      <li>Next: <a href="remote-procedure-calls.html" title="next chapter">Remote Procedure Calls</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="remote-software-update">
<h1>Remote Software Update<a class="headerlink" href="#remote-software-update" title="Link to this heading">¶</a></h1>
<p>The <em>Remote Software Update</em> feature allows you to deploy new versions of the Edge Gateway controller software to devices using ThingsBoard’s OTA update mechanism. This enables the rollout of bug fixes, performance improvements, and new features without requiring physical access to deployed hardware.</p>
<p>OTA update packages reference version tags or commit hashes from the controller’s GitHub repository. Once an OTA package is created and assigned to a device or device profile, Edge Gateway devices automatically receive the update, download the corresponding source code, build a Docker image locally if required, and deploy the new controller version.</p>
<p>The remote software update mechanism follows a <em>controller-only update model</em>. OTA updates apply exclusively to the Edge Gateway controller software and never update or restart the Edge Gateway runtime itself. This design ensures that connectivity, telemetry buffering, and management functions remain available throughout the update process.</p>
<section id="architecture-rationale">
<h2>Architecture Rationale<a class="headerlink" href="#architecture-rationale" title="Link to this heading">¶</a></h2>
<p>A key design principle of the Edge Gateway is the strict separation between the gateway runtime and the controller software. This separation ensures that software updates to the controller do not affect the core Edge Gateway functionality.</p>
<p>Even if a newly deployed controller version contains errors or fails to start correctly, the Edge Gateway itself remains operational. It continues to report device status and update progress to ThingsBoard, allowing operators to monitor deployments and safely roll back to a previous, stable controller version when necessary.</p>
<p>This separation allows updates to be monitored and controlled remotely without risking loss of connectivity. Even in the case of repeated controller failures, the Edge Gateway can continue reporting status information and accept corrective actions such as rollbacks or configuration changes.</p>
</section>
<section id="create-an-ota-update-package">
<h2>Create an OTA Update Package<a class="headerlink" href="#create-an-ota-update-package" title="Link to this heading">¶</a></h2>
<p>To deploy a new controller version, an OTA update package must first be created in the ThingsBoard Web UI.</p>
<ol class="arabic simple">
<li><p>Navigate to <strong>Advanced features → OTA Updates</strong>.</p></li>
<li><p>Create a new OTA update entry.</p></li>
<li><p>Set the <strong>Title</strong> to identify the controller version.</p></li>
<li><p>Set <strong>Version</strong> to match the GitHub version tag or commit hash of the controller release (for example <code class="docutils literal notranslate"><span class="pre">v1.0.0</span></code>).</p></li>
<li><p>Select the <strong>Device Profiles</strong> corresponding to the Edge Gateway devices.</p></li>
<li><p>Set <strong>Package type</strong> to <em>Software</em>.</p></li>
<li><p>Enable <strong>Use external URL</strong> and leave the URL field empty (<code class="docutils literal notranslate"><span class="pre">-</span></code>).</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <strong>Version</strong> field is treated as an opaque identifier by the Edge Gateway. It is not interpreted semantically and must match the version tag or commit hash used to retrieve the controller source code.</p>
</div>
<a class="reference internal image-reference" href="../_images/new_ota_package.png"><img alt="OTA package creation workflow" class="align-center" src="../_images/new_ota_package.png" style="width: 80%;" />
</a>
</section>
<section id="assign-the-ota-package-to-a-device">
<h2>Assign the OTA Package to a Device<a class="headerlink" href="#assign-the-ota-package-to-a-device" title="Link to this heading">¶</a></h2>
<p>After creating the OTA package, it must be assigned to the target device.</p>
<ol class="arabic simple">
<li><p>Navigate to <strong>Entities → Devices</strong>.</p></li>
<li><p>Select the target Edge Gateway device.</p></li>
<li><p>Open the <strong>Details</strong> tab and click <strong>Edit</strong>.</p></li>
<li><p>Under <strong>Assigned Software</strong>, select the previously created OTA package from the dropdown list.</p></li>
<li><p>Click <strong>OK</strong> to apply the changes.</p></li>
</ol>
<a class="reference internal image-reference" href="../_images/update_device_software_version.png"><img alt="Update device software version workflow" class="align-center" src="../_images/update_device_software_version.png" style="width: 80%;" />
</a>
</section>
<section id="update-execution-and-monitoring">
<h2>Update Execution and Monitoring<a class="headerlink" href="#update-execution-and-monitoring" title="Link to this heading">¶</a></h2>
<p>Once the OTA package is assigned, the Edge Gateway performs the update automatically:</p>
<ul class="simple">
<li><p>The currently running controller is stopped.</p></li>
<li><p>The new controller version is downloaded.</p></li>
<li><p>A Docker image is created locally if it does not already exist.</p></li>
<li><p>The controller is restarted using the new version.</p></li>
</ul>
<p>The update procedure is executed synchronously for each device. During the controller restart, incoming telemetry from the controller may be temporarily unavailable, but the Edge Gateway itself remains connected to ThingsBoard and continues reporting update status.</p>
<p>Throughout the process, the Edge Gateway reports its update state back to ThingsBoard using the standard OTA update attributes. The update progress and final status can be monitored via the ThingsBoard Update Dashboard using the <code class="docutils literal notranslate"><span class="pre">sw_state</span></code> attribute.</p>
<p>For additional details on OTA update states and workflows, refer to the official ThingsBoard documentation:
<a class="reference external" href="https://thingsboard.io/docs/user-guide/ota-updates/">https://thingsboard.io/docs/user-guide/ota-updates/</a></p>
</section>
<section id="rolling-back-to-previous-versions">
<h2>Rolling Back to Previous Versions<a class="headerlink" href="#rolling-back-to-previous-versions" title="Link to this heading">¶</a></h2>
<p>The remote software update mechanism also supports rolling back to earlier controller versions.</p>
<p>Rollback operations follow the same execution path as forward updates. No special rollback mode is required, and the previously selected version becomes the desired state once assigned via ThingsBoard.</p>
<p>To perform a rollback, assign an OTA package that references the desired previous version tag or commit hash to the device. The Edge Gateway will stop the currently running controller and restart it using the selected version.</p>
<p>If a Docker image for the requested version is already available locally, it is reused. Otherwise, the Edge Gateway automatically downloads the corresponding source code from GitHub and builds a new Docker image.</p>
<p>This approach enables rapid switching between controller versions and provides a reliable recovery path in case issues arise with newly deployed releases.</p>
</section>
<section id="operational-notes">
<h2>Operational Notes<a class="headerlink" href="#operational-notes" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>OTA updates do not reboot the host system.</p></li>
<li><p>OTA updates do not restart the Edge Gateway runtime process.</p></li>
<li><p>Network interruptions during downloads are handled transparently and retried once connectivity is restored.</p></li>
<li><p>For large fleets, staged rollouts using device profiles are recommended to reduce operational risk.</p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;2025, Aigner Patrick, Frölich Lars.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 9.1.0</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../_sources/user-guide/remote-software-update.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>